#!/usr/bin/env bash
# 0-change_your_home_IP
# Change localhost and facebook.com IPs

# Backup original hosts file
cp /etc/hosts /etc/hosts.bak

# Create a temporary file
tmpfile=$(mktemp)

# Copy all lines from /etc/hosts except localhost and facebook.com
grep -v -E "^(127\.0\.0\.1|127\.0\.0\.2).*localhost|.*facebook\.com" /etc/hosts > "$tmpfile"

# Add the new entries
echo "127.0.0.2 localhost" >> "$tmpfile"
echo "8.8.8.8 facebook.com" >> "$tmpfile"

# Replace /etc/hosts atomically
sudo mv "$tmpfile" /etc/hosts

echo "Hosts file updated successfully."

